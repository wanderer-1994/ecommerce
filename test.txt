START TRANSACTION;

INSERT INTO `ecommerce`.product_entity (entity_id, type_id, created_at, updated_at)
VALUES ("PR0001", "simple", "1614068843612", "1614068843612") AS new
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
type_id = new.type_id,
created_at = new.created_at,
updated_at = new.updated_at;

INSERT INTO `ecommerce`.product_category_assignment (product_id,category_id,position)
VALUES
("PR0001", "storage", NULL)
AS new
ON DUPLICATE KEY UPDATE
product_id = new.product_id,
category_id = new.category_id,
position = new.position;

INSERT INTO `ecommerce`.inventory (entity_id, available_quantity)
VALUES ("PR0001", 1) AS new
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
available_quantity = new.available_quantity;

INSERT INTO `ecommerce`.product_tier_price (entity_id, price)
VALUES ("PR0001", 173000) AS new
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
price = new.price;

INSERT INTO `ecommerce`.product_eav_int (entity_id, attribute_id, value)
VALUES
("PR0001", "sup_price", "173000")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

INSERT INTO `ecommerce`.product_eav_int (entity_id, attribute_id, value)
VALUES
("PR0001", "is_new", "1")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

DELETE FROM `ecommerce`.product_eav_int
WHERE entity_id = "PR0001"
AND attribute_id = "is_online";

INSERT INTO `ecommerce`.product_eav_varchar (entity_id, attribute_id, value)
VALUES
("PR0001", "sup_link", "https://phatdatcomputer.vn/san-pham/usb-20-64g-hoco-ud6-chinh-hang")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

INSERT INTO `ecommerce`.product_eav_varchar (entity_id, attribute_id, value)
VALUES
("PR0001", "sup_name", "USB 2.0 64G HOCO UD6 Chính hãng")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

INSERT INTO `ecommerce`.product_eav_varchar (entity_id, attribute_id, value)
VALUES
("PR0001", "thumbnail", "https://phatdatcomputer.vn/upload/product/usb-64g-hoco-ud6-20-chinh-hang1585636909.png")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

INSERT INTO `ecommerce`.product_eav_text (entity_id, attribute_id, value)
VALUES
("PR0001", "sup_warranty", "12T")
ON DUPLICATE KEY UPDATE
entity_id = new.entity_id,
attribute_id = new.attribute_id,
value = new.value;

DELETE FROM `ecommerce`.product_eav_multi_value
WHERE entity_id = "PR0001"
AND attribute_id = "images";

INSERT INTO `ecommerce`.product_eav_multi_value (entity_id, attribute_id, value)
VALUES
("PR0001", "images", "https://phatdatcomputer.vn/upload/product/usb-64g-hoco-ud6-20-chinh-hang1585636909.png");

COMMIT;
